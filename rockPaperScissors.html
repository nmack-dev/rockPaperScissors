<!DOCTYPE html>
<html>
<head>
  <title>Page Title</title>
  <meta charset="UTF-8"/>
</head>
<body>
  <script>
    // rockPaperScissors.js
    // Nathan Mack, 2020

    // Randomly selects the computer's move
    function computerPlay() {
        var rand = Math.random() * 10;
        if (rand <= 3) {
            return 'paper';
        }
        else if (rand > 3 && rand <= 7) {
            return 'scissors';
        }
        else {
            return 'rock';
        }
    }

    // The logic behind a game round
    function playRound(playerSelection, computerSelection) {
        var ps = playerSelection.toLowerCase();
        var cs = computerSelection;
        
        // Lose conditions
        if (ps === 'rock' && cs === 'paper') {
            return 'You lose, ' + cs + ' beats ' + ps + '.';
        }
        else if (ps === 'scissors' && cs ==='rock') {
            return 'You lose, ' + cs + ' beats ' + ps + '.';
        }
        else if (ps === 'paper' && cs === 'scissors') {
            return 'You lose, ' + cs + ' beats ' + ps + '.';
        }
        // Win conditions
        else if (ps === 'rock' && cs === 'scissors') {
            return 'You win, ' + ps + ' beats ' + cs + '.';
        }
        else if (ps === 'scissors' && cs ==='paper') {
            return 'You win, ' + ps + ' beats ' + cs + '.';
        }
        else if (ps === 'paper' && cs === 'rock') {
            return 'You win, ' + ps + ' beats ' + cs + '.';
        }
        // Tie condition
        else if (ps === cs) {
            return 'Tie game, ' + cs + ' ties ' + ps + '.';
        }
    }

    // Game function that plays x amount of rounds
    function game(rounds) {
        var n = 0;
        var playerWins = 0;
        var computerWins = 0;
        var playerSelection;
        var result;
        
        // Plays the game for x amount of rounds depending on user input
        while (n < rounds) {
            playerSelection = window.prompt('Enter a Move', 'Rock, Paper, or Scissors');
            result = playRound(playerSelection, computerPlay());
            console.log(result);
            
            if (result.includes('win')) {
                playerWins++;
            }
            else if (result.includes('lose')) {
                computerWins++;
            }

            n++
        }

        // Game win logic
        if (playerWins > computerWins) {
            console.log('You win the game!');
        }
        else if (playerWins < computerWins) {
            console.log('You lose the game :(');
        }
        else {
            console.log('The game is a tie!');
        }
    }

    // Runs the game and plays x amount of rounds based on user input
    game(parseInt(prompt('How many rounds do you want to play?')))

  </script>
</body>
</html>